create repository boinc
end repository

# matches trunk/boinc and branches/whatever/[boinc/]
# doesn't have slash at beginning or end
declare TRUNK_OR_BRANCHES=(?:trunk/boinc|branches/[^/]+(?:/boinc)?)

# skip compiled binaries
match /${TRUNK_OR_BRANCHES}/(openssl|curl|icu|zlib)/(mswin|win32)/
end match
match /${TRUNK_OR_BRANCHES}/coprocs/(CUDA|NVIDIA)/(mswin|linux|posix)/
end match
match /trunk/boinc/clientscr/progress/win/
end match
match /trunk/boinc/clientscr/progress/boincscr.exe
end match
match /trunk/boinc/samples/example_app/bin/
end match
match /trunk/boinc/samples/wrapper/(bin|i386|ppc|x86_64)/
end match
match /trunk/boinc/samples/redist/
end match

match /trunk/boinc/win_build/boinc_installshield.zip
end match
match /trunk/boinc/bonc.tar.gz
end match
match /trunk/boinc/client/win/dbghelp.dll
end match


# trunk branch
match /trunk/boinc/
    repository boinc
    branch master
    min revision 10
end match

# sample apps, moved to trunk later
match /trunk/boinc_samples/
    repository boinc
    branch samples
end match

# Charlie's workspace for AsyncRPC work
match /workspaces/charlief/
    repository boinc
    branch charlief/asyncrpc
end match

# These were created by copying trunk/ to branches/boinc_core_release_x_y,
# so they have a 'boinc' subdirectory. Thus I need an extra recurse rule
# to get the contents.
match /branches/boinc_core_release_5_(2|4|6|8|8a)/$
    action recurse
end match
match /branches/boinc_core_release_5_(2|4|6|8|8a)/boinc/
    repository boinc
    branch core_5.\1
end match

# 5.10 and later were created by copying trunk/boinc to branches/boinc_core_release_x_y,
# so there's no boinc subdir here.
match /branches/boinc_core_release_5_(10)/
    repository boinc
    branch core_5.\1
end match
match /branches/boinc_core_release_6_(2|4|6|6a|10|12)/
    repository boinc
    branch core_6.\1
end match

# 6.8 was created in r18219, deleted in r18416 and recreated in r18417
# so it needs special handling.
match /branches/boinc_core_release_6_8/
    repository boinc
    branch core_6.8_old
    min revision 18219
    max revision 18415 # deleted in 18416
end match
match /branches/boinc_core_release_6_8/
    repository boinc
    branch core_6.8
    min revision 18417
end match

match /
end match
